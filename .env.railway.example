# ============================================
# Typebot - Configuração para Railway
# ============================================
# Copie este arquivo para .env e preencha com seus valores

# ============================================
# DATABASE - PostgreSQL
# ============================================
# Formato: postgresql://usuario:senha@host:porta/banco
# No Railway, use: ${Postgres.DATABASE_URL}
DATABASE_URL=postgresql://postgres:typebot@typebot-db:5432/typebot

# ============================================
# ENCRYPTION - Chave de Criptografia
# ============================================
# Gere com: openssl rand -base64 32
# Deve ser uma string de 32 caracteres em base64
ENCRYPTION_SECRET=do+UspMmB/rewbX2K/rskFmtgGSSZ8Ta

# ============================================
# NEXTAUTH - Autenticação
# ============================================
# URL pública do Builder (onde os usuários fazem login)
# Exemplo: https://typebot-builder-xxx.railway.app
NEXTAUTH_URL=https://seu-dominio-builder.railway.app

# ============================================
# VIEWER - URL Pública do Viewer
# ============================================
# URL pública do Viewer (onde os bots são executados)
# Exemplo: https://typebot-viewer-xxx.railway.app
NEXT_PUBLIC_VIEWER_URL=https://seu-dominio-viewer.railway.app

# ============================================
# ADMIN - Configuração do Administrador
# ============================================
# Email que terá acesso ao plano UNLIMITED
ADMIN_EMAIL=seu-email@dominio.com

# Plano padrão para novos usuários
# Opções: FREE, STARTER, PRO, LIFETIME, UNLIMITED
DEFAULT_WORKSPACE_PLAN=UNLIMITED

# ============================================
# REDIS - Cache e Sessões
# ============================================
# No Railway, use: ${Redis.REDIS_URL}
REDIS_URL=redis://typebot-redis:6379

# ============================================
# S3 / MinIO - Storage de Mídia
# ============================================
# Endpoint do MinIO (URL pública)
S3_ENDPOINT=https://typebot-minio-xxx.railway.app

# Credenciais do MinIO
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin123

# Nome do bucket (deve ser criado manualmente no MinIO)
S3_BUCKET_NAME=typebot

# Configurações adicionais
S3_SSL=true
S3_REGION=us-east-1

# ============================================
# NODE - Configuração do Node.js
# ============================================
NODE_OPTIONS=--no-node-snapshot
NODE_ENV=production

# ============================================
# SMTP - Email (Opcional)
# ============================================
# Host SMTP para envio de emails
# Nota: Gmail não funciona bem no Railway
SMTP_HOST=smtp.seu-provedor.com
SMTP_PORT=465
SMTP_USERNAME=seu-email@seu-provedor.com
SMTP_PASSWORD=sua-senha-app
SMTP_TLS=true

# ============================================
# OAUTH - Autenticação Social (Opcional)
# ============================================

# Google OAuth
# Crie em: https://console.developers.google.com/apis/credentials
GOOGLE_CLIENT_ID=seu-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=sua-client-secret

# GitHub OAuth
# Crie em: https://github.com/settings/developers
GITHUB_CLIENT_ID=seu-client-id
GITHUB_CLIENT_SECRET=sua-client-secret

# GitLab OAuth
# Crie em: https://gitlab.com/-/user_settings/applications
GITLAB_CLIENT_ID=seu-client-id
GITLAB_CLIENT_SECRET=sua-client-secret

# Facebook OAuth
# Crie em: https://developers.facebook.com/apps
FACEBOOK_CLIENT_ID=seu-client-id
FACEBOOK_CLIENT_SECRET=sua-client-secret

# Azure AD OAuth
AZURE_AD_CLIENT_ID=seu-client-id
AZURE_AD_CLIENT_SECRET=sua-client-secret
AZURE_AD_TENANT_ID=seu-tenant-id

# ============================================
# INTEGRAÇÕES - APIs Externas (Opcional)
# ============================================

# OpenAI - Para blocos de IA
OPENAI_API_KEY=sk-sua-chave-api

# Giphy - Para seletor de GIFs
GIPHY_API_KEY=sua-chave-api

# Unsplash - Para seletor de imagens
UNSPLASH_ACCESS_KEY=sua-chave-api

# Pexels - Para seletor de vídeos
PEXELS_API_KEY=sua-chave-api

# WhatsApp - Integração WhatsApp
WHATSAPP_SYSTEM_USER_TOKEN=seu-token
WHATSAPP_PHONE_NUMBER_ID=seu-phone-id

# ============================================
# LOGGING E TELEMETRIA (Opcional)
# ============================================

# Nível de log
LOG_LEVEL=info

# PostHog - Analytics
POSTHOG_API_KEY=sua-chave-api
POSTHOG_API_HOST=https://eu.posthog.com

# Sentry - Error tracking
SENTRY_DSN=sua-dsn

# ============================================
# PARTYKIT - Colaboração em Tempo Real (Opcional)
# ============================================
PARTYKIT_HOST=seu-partykit-host

# ============================================
# VERCEL - Domínios Customizados (Opcional)
# ============================================
VERCEL_TOKEN=seu-token
VERCEL_PROJECT_ID=seu-project-id

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. ENCRYPTION_SECRET deve ser único e seguro
# 2. Não compartilhe este arquivo em repositórios públicos
# 3. Use valores diferentes para produção
# 4. Todas as URLs devem ser acessíveis publicamente
# 5. O ADMIN_EMAIL receberá plano UNLIMITED automaticamente
# 6. Variáveis opcionais podem ser deixadas em branco
# 7. Após alterar variáveis, redeploy os serviços
